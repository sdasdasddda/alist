import{d as q,g as b,e as B,F as H,u as j,r as P,J as D,K as O,h as m,G,i as y,j as V,H as I,b as n,c as e,k as l,m as t,L as J,M as K,t as h,N as Q,l as f,O as W,P as X,Q as Y,R as Z}from"./index-c42bf1ef.js";import"./lodash-5ab2684b.js";const ee={class:"scroll-y"},le=f("h3",null,"Alist服务配置",-1),ae={class:"mt-30px font-bold mb-10px"},oe=f("span",{color:"gray",style:{"font-size":"12px","margin-left":"12px"}},"alist的ip或者域名地址",-1),te=f("span",{color:"gray",style:{"font-size":"12px","margin-left":"12px"}},"默认http",-1),se=f("span",{color:"gray",style:{"font-size":"13px","margin-left":"12px"}},"example: encrypt/*",-1),de=f("br",null,null,-1),ne=q({}),ce=Object.assign(ne,{__name:"index",setup(re){const T=b("right"),w=b(!1),v=b("encode");B(),H(),j();const s=P({folderName:"my video",encType:"aesctr",folderPasswd:"123456",folderNameEnc:"",folderEncType:"rc4",password:""}),u=P({name:"",path:"/*",describe:"",serverHost:"192.168.1.100",serverPort:"5244",https:!1,passwdList:[{id:Math.random(),password:"123456",encType:"aesctr",enable:!1,encName:!1,encSuffix:"",describe:"my video",encPath:"333"}]}),k=b(),E=()=>{u.passwdList.push({id:Math.random(),password:"123456",encType:"aesctr",enable:!0,describe:"my video",encPath:"/aliyun/encrypt/*"})},F=r=>{u.passwdList.splice(r,1)},R=r=>{w.value=!0,s.password=r.password,s.encType=r.encType},S=async()=>{const r=await W(s);s.folderNameEnc=`${s.folderName}_${r.data.folderNameEnc}`},L=async()=>{const r=await X(s);s.folderPasswd=r.data.folderPasswd,s.folderEncType=r.data.folderEncType},z=()=>{Y(u).then(r=>{Z.success(r.msg)})};return D(async()=>{const r=await O();for(const o of r.data.passwdList)o.id=Math.random(),o.encPath=o.encPath.reduce((c,d)=>`${c},${d}`);Object.assign(u,r.data)}),(r,o)=>{const c=m("el-input"),d=m("el-form-item"),x=m("el-switch"),i=m("el-button"),_=m("el-radio"),C=m("el-radio-group"),g=m("el-form"),N=m("el-tab-pane"),A=m("el-tabs"),M=m("el-dialog"),$=G("lang");return y(),V("div",ee,[le,I((y(),V("div",ae,[n("服务地址")])),[[$]]),e(g,{ref_key:"refSearchForm",ref:k,"label-position":T.value,"label-width":"75px",model:t(u)},{default:l(()=>[e(d,{prop:"username",label:"服务器"},{default:l(()=>[e(c,{modelValue:t(u).serverHost,"onUpdate:modelValue":o[0]||(o[0]=a=>t(u).serverHost=a),style:{"max-width":"260px"},placeholder:"192.168.1.100"},null,8,["modelValue"]),oe]),_:1}),e(d,{prop:"password",label:"端口"},{default:l(()=>[e(c,{modelValue:t(u).serverPort,"onUpdate:modelValue":o[1]||(o[1]=a=>t(u).serverPort=a),style:{"max-width":"260px"},placeholder:"5244"},null,8,["modelValue"])]),_:1}),e(d,{prop:"https",label:"https"},{default:l(()=>[e(x,{modelValue:t(u).https,"onUpdate:modelValue":o[2]||(o[2]=a=>t(u).https=a),class:"ml-2",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"]),te]),_:1}),e(d,{label:"密码设置"},{default:l(()=>[e(i,{type:"success",onClick:E},{default:l(()=>[n("添加")]),_:1})]),_:1}),(y(!0),V(J,null,K(t(u).passwdList,(a,U)=>(y(),V("div",{key:a.id},[n(" 配置 "+h(U+1)+" ",1),e(d,{label:"算法"},{default:l(()=>[e(C,{modelValue:a.encType,"onUpdate:modelValue":p=>a.encType=p,style:{margin:"0px 5px"},size:"small"},{default:l(()=>[e(_,{label:"aesctr",border:""},{default:l(()=>[n("AES-CTR")]),_:1}),e(_,{label:"rc4",border:""},{default:l(()=>[n("RC4")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"]),n(" 开启 "),e(x,{modelValue:a.enable,"onUpdate:modelValue":p=>a.enable=p,class:"ml-2",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue","onUpdate:modelValue"]),e(i,{type:"danger",style:{margin:"0px 20px"},icon:t(Q),circle:"",onClick:p=>F(U)},null,8,["icon","onClick"])]),_:2},1024),e(d,{label:"密码"},{default:l(()=>[e(c,{modelValue:a.password,"onUpdate:modelValue":p=>a.password=p,style:{"max-width":"260px","margin-right":"10px"},placeholder:"12341234"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{label:"文件名"},{default:l(()=>[n(" 加密 "),e(x,{modelValue:a.encName,"onUpdate:modelValue":p=>a.encName=p,class:"ml-2",style:{"margin-right":"10px","--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{label:"备注"},{default:l(()=>[e(c,{modelValue:a.describe,"onUpdate:modelValue":p=>a.describe=p,style:{"max-width":"260px","margin-right":"10px"},placeholder:"备注描述"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(d,{label:"路径"},{default:l(()=>[e(c,{modelValue:a.encPath,"onUpdate:modelValue":p=>a.encPath=p,style:{"max-width":"350px","margin-right":"10px"},placeholder:"多个目录用逗号，隔开"},null,8,["modelValue","onUpdate:modelValue"]),se]),_:2},1024),e(d,{label:"子密码:"},{default:l(()=>[n(" 根据文件夹的名字自动识别文件夹的秘钥 "),e(i,{type:"success",size:"small",style:{"margin-left":"10px"},onClick:p=>R(a)},{default:l(()=>[n("获取")]),_:2},1032,["onClick"])]),_:2},1024),de]))),128)),e(d,null,{default:l(()=>[e(i,{type:"primary",onClick:z},{default:l(()=>[n("保存")]),_:1})]),_:1}),e(M,{modelValue:w.value,"onUpdate:modelValue":o[8]||(o[8]=a=>w.value=a),title:"获取文件夹密文",style:{"min-width":"320px"}},{default:l(()=>[e(A,{modelValue:v.value,"onUpdate:modelValue":o[7]||(o[7]=a=>v.value=a),class:"demo-tabs",onTabClick:r.handleClick},{default:l(()=>[e(N,{label:"加密名字",name:"encode"},{default:l(()=>[e(g,{model:t(s)},{default:l(()=>[e(d,{prop:"username",label:"文件夹名称"},{default:l(()=>[e(c,{modelValue:t(s).folderName,"onUpdate:modelValue":o[3]||(o[3]=a=>t(s).folderName=a),style:{"max-width":"260px"},placeholder:"folder name"},null,8,["modelValue"])]),_:1}),e(d,{prop:"username",label:"算法类型"},{default:l(()=>[e(C,{modelValue:t(s).folderEncType,"onUpdate:modelValue":o[4]||(o[4]=a=>t(s).folderEncType=a),style:{margin:"0 15px"},size:"small"},{default:l(()=>[e(_,{label:"aesctr",border:""},{default:l(()=>[n("AES-CTR")]),_:1}),e(_,{label:"rc4",border:""},{default:l(()=>[n("RC4")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{prop:"username",label:"文件夹密码"},{default:l(()=>[e(c,{modelValue:t(s).folderPasswd,"onUpdate:modelValue":o[5]||(o[5]=a=>t(s).folderPasswd=a),style:{"max-width":"260px"},placeholder:"123456"},null,8,["modelValue"])]),_:1}),e(d,{prop:"username",label:"加密结果"},{default:l(()=>[n(h(t(s).folderNameEnc),1)]),_:1}),e(i,{type:"success",onClick:S},{default:l(()=>[n("查询")]),_:1})]),_:1},8,["model"])]),_:1}),e(N,{label:"解密名字",name:"decode"},{default:l(()=>[e(g,{model:t(s)},{default:l(()=>[e(d,{prop:"username",label:"文件夹名称"},{default:l(()=>[e(c,{modelValue:t(s).folderNameEnc,"onUpdate:modelValue":o[6]||(o[6]=a=>t(s).folderNameEnc=a),style:{"max-width":"260px"},placeholder:"folder name"},null,8,["modelValue"])]),_:1}),e(d,{prop:"username",label:"算法类型"},{default:l(()=>[n(h(t(s).folderEncType),1)]),_:1}),e(d,{prop:"username",label:"文件夹密码"},{default:l(()=>[n(h(t(s).folderPasswd),1)]),_:1}),e(i,{type:"success",onClick:L},{default:l(()=>[n("解密")]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue","onTabClick"])]),_:1},8,["modelValue"])]),_:1},8,["label-position","model"])])}}});export{ce as default};
